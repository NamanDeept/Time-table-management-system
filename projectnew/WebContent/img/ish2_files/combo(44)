YUI.add("hermes-lang-profile",function(e,o){e.Intl.add("hermes/profile","en-US",{MEMBER_DESCRIPTION:["Description"],MEMBER_INFO:["Member info"],EMPTY_DESCRIPTION:["Write a little about yourself"],ABOUT_USERNAME:["About ","${username}"],MOST_POPULAR_PHOTOS:["Most popular photos"],MOST_POPULAR_PHOTOS_EMPTY_TITLE:["Your most popular photos will appear here."],MOST_POPULAR_PHOTOS_EMPTY_TEXT:["Set your photos to public for more faves, comments and views."],MOST_POPULAR_PHOTOS_EMPTY_TEXT_2:["For even more exposure, add them to Groups"],HAS_NO_PUBLIC_PHOTOS_YET:["${username}"," hasn't made any photos public yet."],MOST_POPULAR_PHOTOS_GO_TO_CR:["Go to Camera Roll"],TESTIMONIALS:["Testimonials"],PHOTOS_OF:["Photos of ","${username}"],READ_MORE:["Read more"],READ_LESS:["Read less"],EDIT_DESCRIPTION:["Edit description"],EDIT_INFOS:["Edit your profile information"],EDIT_SHOWCASE:["Edit your showcase"],CHANGE_SHOWCASE_PHOTOS:["Change your showcase photos"],SHOWCASE_FULL:["Your showcase is full! Change photos"],SHOWCASE_ALMOST_FULL:["One photo to go, choose well!"],ADD_PHOTOS:["Add photos"],VIEW_ALL:["View all"],THIS_YOUR_SHOWCASE:["This is your showcase."],SHOW_OFF_YOUR_PHOTOS:["Show off up to ","${limit}"," of your photos."],GET_STARTED:["Get started"],CHOOSE_UP_TO_PHOTOS:[{type:"plural",valueName:"limit",options:{one:"Choose up to ${#} more photo",other:"Choose up to ${#} more photos"}}],SELECT_PHOTOS:["Select photos"],SHOWCASE_ALREADY_THERE:["This photo is already in your showcase."],SHOWCASE_ERR:["An error has occurred. Please refresh the page."],BIO_JOINED:["Joined"],BIO_OCCUPATION:["Occupation"],BIO_HOMETOWN:["Hometown"],BIO_CURRENT_CITY:["Current city"],BIO_COUNTRY:["Country"],BIO_WEBSITE:["Website"],BIO_EMAIL:["Email"],BIO_FACEBOOK:["Facebook"],BIO_TWITTER:["Twitter"],BIO_INSTAGRAM:["Instagram"],BIO_PINTEREST:["Pinterest"],BIO_TUMBLR:["Tumblr"],BIO_RELATIONSHIP:["Relationship"],COUNTS_GROUPS:[{type:"plural",valueName:"groupsCount",options:{one:"group",other:"groups"}}],COUNTS_GEOTAGGED:[{type:"plural",valueName:"geoCount",options:{one:"geotagged photo",other:"geotagged photos"}}],COUNTS_GEOTAGS:[{type:"plural",valueName:"geoCount",options:{one:"geotag",other:"geotags"}}],COUNTS_FAVORITES:[{type:"plural",valueName:"favesCount",options:{one:"fave",other:"faves"}}],COUNTS_TAGS:[{type:"plural",valueName:"tagsCount",options:{one:"tag",other:"tags"}}],COUNT_VIEWS:[{type:"plural",valueName:"viewsCount",options:{one:"view",other:"views"}}],BLOCK_USER:["Block user"],FILTER_FAVES:["Most faved"],FILTER_VIEWS:["Most viewed"],FILTER_COMMENTS:["Most commented"],FILTER_INTERESTING:["Most interesting"],AWESOME:["Awesome!"],REFRESH_NOW:["Refresh now to see your showcase."],TOO_MANY_PHOTOS:["Sorry, you can't add more than ","${limit}"," photos to your showcase."],PROFILE_SHARE_FEEDBACK:['This new Flickr Profile is only visible to Alpha Group members. Please share your feedback <a href="',"${url}",'">here</a>.'],PROFILE_SHARE_FEEDBACK_ONBOARDING:['Profiles got a makeover. We really want to know what you think. <a href="',"${url}",'">Send us some feedback!</a>'],PROFILE_CHECK_OUT:['Profiles got a makeover — check out your <a href="',"${urlAbout}",'">new About page</a>! Then, <a href="',"${urlFeedback}",'" target="_blank">let us know what you think</a>!'],PROFILE_PHOTO_NOT_PUBLIC:["This photo does not seem to be public."],PROFILE_SAVED_MAGICALLY:["Changes are saved automagically!"],PROFILE_SAVED_AUTO:["Changes are saved automatically!"],SAVING:["Saving"],PLACEHOLDER_SOCIAL:["Your username or profile link"],EVERYONE:["Everyone"],ANY_FLICKR_MEMBER:["Any Flickr Member"],PEOPLE_I_FOLLOW:["People I follow"],FRIENDS_AND_FAMILY:["Friends and family"],ONLY_ME:["Only me"],USER_FOLLOWS_YOU:["${username}"," is following you."],USER_IS_FAMILY:["${username}"," counts you as Family."],USER_IS_FRIEND:["${username}"," counts you as a Friend."],USER_IS_FRIEND_FAMILY:["${username}"," counts you as Friend & Family."],TESTIM_PENDING:["Pending"],TESTIM_EMPTY_SELF:["Nobody has added a testimonial for you yet."],TESTIM_EMPTY_SOMEONE:["Nobody has added a testimonial yet."],TESTIM_EMPTY:["Have something nice to say about ","${username}","?"],TESTIM_WRITE:["Write a testimonial"],TESTIM_POST:["Post"],TESTIM_SHOW_MORE:["View more"],TESTIM_APPROVE:["Approve"],TESTIM_REJECT:["Reject"],TESTIM_SENT_APPROVAL:["Your testimonial will be sent to ","${username}"," for approval."],TESTIM_SENT_APPROVAL_SHOWN:["Your testimonial will be shown once ","${username}"," approves it."],TESTIM_GREAT_TITLE:["Great!"],TESTIM_DELETE_CONFIRM:["Delete this post?"],TESTIM_DELETE_TEXT:["You cannot reverse this action. Are you sure you want to permanently delete this post?"],TESTIM_EDIT_CONFIRM_TITLE:["Edit this post?"],TESTIM_EDIT_CONFIRM_TEXT:["If you choose to edit this post, it will be sent back to the person you're writing about for approval."],TESTIM_EDIT_VISIT_PROFILE:["You can edit this testimonial on ","${username}","'s profile."],TESTIM_EDIT_VISIT_PROFILE_TEXT:["If you choose to edit this post, it will be sent back to ","${username}"," for their approval."],TESTIM_EDIT_VISIT_PROFILE_GO:["Go to profile"],YOUR_SELECTION_HEADER:["Your Selection"],NO_PHOTOS_SELECTED:["No photos selected."],SELECTED:["Selected"],PROFILE_SHOWCASE_TITLE:["Profile showcase"],PROFILE_SHOWCASE_TITLE_SHORT:["Showcase"],PROFILE_WHATS_NEW:["What’s new?"],PROFILE_BIO_TOOLTIP:["Add a few more details about yourself to complete your profile."],PROFILE_POPULAR_TOOLTIP:["These are your most popular photos on Flickr. You can choose to have this section visible to everyone or only to you."],PROFILE_PHOTOSOF_TOOLTIP:["You can tag and untag yourself in photos by visiting the “People in photo” section on the photo page."],PROFILE_PHOTOSOF_MODAL_TITLE:["Untag yourself from this photo ?"],PROFILE_CHECK_IT_OUT:["Check it out"],PROFILE_GOT_IT:["Got it, thanks"],TESTIM_FILTER_RECEIVED:["Received"],TESTIM_FILTER_GIVEN:["Given"],TESTIM_NOTHING_TO_SHOW:["Nothing to show."],TESTIM_POSTED_ON:[{type:"date",valueName:"intlDate",format:"long"}],TESTIM_AUTHOR_SAYS:['<a href="',"${url}",'" class="username">',"${displayname}","</a> says:"],TESTIM_AUTHOR_FOR:['For <a href="',"${url}",'" class="username">',"${displayname}","</a>:"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-upload-blocking",function(o,e){o.Intl.add("hermes/upload-blocking","en-US",{UPLOADS_LOCKED_SOON:["Your uploads will be locked soon."],FREE_ACCOUNTS_NO_LONGER_UPLOAD:["Starting January 8th, free accounts on Flickr with ","${limitCount}"," photos or more will no longer be able to upload new photos."],LEARN_MORE_ABOUT_CHANGES_HERE:["Learn more about these changes here."],UPGRADE_TO_GET_UNLIMITED:["For unlimited uploads, upgrade to Pro at ","${percentOff}","% off using code ","${couponCode}","."],FREE_ACCOUNTS_NO_LONGER_UPLOAD_2:["Starting January 8, 2019 free accounts on Flickr with ","${limitCount}"," photos or more will no longer be able to upload new photos. Starting February 5, 2019 some items over the limit will be at risk of deletion."],FREE_ACCOUNTS_NO_LONGER_UPLOAD_BY_1_8_2019:["Starting January 8th, free accounts on Flickr with ","${limitCount}"," or more photos and videos will no longer be able to upload new content."],UPGRADE_TO_GET_UNLIMITED_BY_1_8_2019:["For unlimited uploads, upgrade to Pro at ","${percentOff}","% off using code ","${couponCode}",". (Discount valid until January 8, 2019)"],OVER_UPLOAD_LIMIT_HEAD:["Your photos are at risk of deletion soon."],OVER_UPLOAD_LIMIT_COPY:['Your Free Flickr account is <a href="',"${limitedImagesUrl}",'" target="_blank">limited to ',"${limitCount}",'</a> photos or videos. Your uploads are now locked, and starting February 5th, the oldest items over the limit for free accounts will be at risk of deletion. To unlock uploads and protect your photos and videos, you’ll need to remove items until you’re under the account limit or <a href="',"${upgradeToProUrl}",'">upgrade to Flickr Pro</a> for unlimited storage.'],AT_UPLOAD_LIMIT_HEAD:["Your uploads are now locked."],AT_UPLOAD_LIMIT_COPY:['Your Free Flickr account is <a href="',"${limitedImagesUrl}",'" target="_blank">limited to ',"${limitCount}",'</a> photos or videos. Starting February 5th, the oldest items over your free account limit will be at risk of deletion. However, any items licensed Creative Commons (or other free license types) before November 1, 2018 will not be deleted. To upload new photos or videos, you’ll need to remove items until you’re under the account limit or you can <a href="',"${upgradeToProUrl}",'">upgrade to Flickr Pro</a> for unlimited uploads.'],UPLOADS_LOCKED_SOON_HEAD:["Your uploads will be locked soon."],UPLOADS_LOCKED_SOON_COPY:['You are nearing your <a href="',"${limitedImagesUrl}",'" target="_blank">',"${limitCount}"," item Free Flickr account limit</a>. To upload more than ","${limitCount}",' photos or videos, you’ll need to <a href="',"${upgradeToProUrl}",'">upgrade to Flickr Pro</a> for unlimited uploads.'],YOU_CAN_UPLOAD_COUNT_MORE:[{type:"plural",valueName:"photoCount",options:{one:["You can upload ","${countString}"," more photo or video."],other:["You can upload ","${countString}"," more photos and videos."]}}],MORE_THAN_LIMIT_ITEMS_TO_UPLOAD:[{type:"plural",valueName:"photoCount",options:{one:["Looks like there is more than ","${countString}"," item to upload. We’ll upload the first ","${countString}"," from your batch."],other:["Looks like there are more than ","${countString}"," items to upload. We’ll upload the first ","${countString}"," from your batch."]}}],NEVERMIND:["Nevermind"],OK_GO_AHEAD:["Ok go ahead"],UPLOAD_QUEUE_FULL:["Your upload queue is full!"],GET_PRO_FOR_UNLIMITED:["Get Pro for unlimited uploads"],NOT_NOW:["Not now"],UPLOAD_YOUVE_REACHED_LIMIT_GET_PRO:["You’ve reached the 1000 item upload limit. Get Pro for unlimited uploads."],YOUVE_REACHED_UPLOAD_LIMIT:["You’ve reached the ","${limitCount}"," item upload limit."],AT_UPLOAD_LIMIT_COPY_SHORT:['Your Free Flickr account is <a href="',"${limitedImagesUrl}",'" target="_blank">limited to ',"${limitCount}"," photos or videos</a>. To upload more than ","${limitCount}"," items, you’ll need to upgrade to Flickr Pro for unlimited storage."],OVER_UPLOAD_LIMIT_COPY_SHORT:['Your Free Flickr account is <a href="',"${limitedImagesUrl}",'" target="_blank">limited to ',"${limitCount}"," photos or videos</a>. Starting February 5th, the oldest items over the limit will be at risk of deletion. Upgrade to Flickr Pro for unlimited storage."],PHOTO_EDITOR_REACHED_UPLOAD_LIMIT:["You’ve reached your ","${limitCount}",' item limit. To save a new copy, <a href="',"${upgradeToProUrl}",'" target="_blank">upgrade to Flickr Pro</a>.'],OVER_UPLOAD_LIMIT_EXTEND_HEAD:["Update: Free Flickr account limit deadline extension."],OVER_UPLOAD_LIMIT_EXTEND_COPY:["We’re extending the deadline for upgrading to Flickr Pro for unlimited storage or removing your photos/videos to meet the new ","${limit}"," item limit. The new deadline is March ","${dateNumber}",", 2019."],ALL_YOUR_PHOTOS_MATTER:['<span class="all-text">ALL</span> your photos matter.'],UPLOAD_LIMIT_EXTEND_MODAL_1:["We know the recent update limiting photo and video uploads to ","${limit}"," for free Flickr accounts was a big one. We’ve heard loud and clear from our Flickr photographers that you need more time to make sure your photos are safe."],UPLOAD_LIMIT_EXTEND_MODAL_2:["Whether you’re upgrading to Flickr Pro for unlimited photo storage or downloading photos to meet the new limit, we’re extending the deadline to March ","${dateNumber}",", 2019."],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_FAVES_TAGS:["This includes some of the ","${views}"," views, ","${faves}"," faves, and ","${tags}"," tags attached to those photos."],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS:["This includes some of the ","${views}"," views attached to those photos."],LIMIT_OVERLAY_STATS_DISAPPEAR_FAVES:["This includes some of ","${faves}"," faves attached to those photos."],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_FAVES:["This includes some of the ","${views}"," views and ","${faves}"," faves attached to those photos."],LIMIT_OVERLAY_STATS_DISAPPEAR_TAGS:["This includes some of the ","${tags}"," tags attached to those photos."],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_TAGS:["This includes some of the ","${views}"," views and ","${tags}"," tags attached to those photos."],LIMIT_OVERLAY_STATS_DISAPPEAR_FAVES_TAGS:["This includes some of the ","${faves}"," faves and ","${tags}"," tags attached to those photos."],RIGHT_NOW_PHOTOS_AT_RISK:["Right now ","${count}"," of your photos are at risk of deletion."],TAKE_MOMENT_TO_PROTECT_PHOTOS:["Please take a moment to protect the photos in your account."],PROTECT_THESE_PHOTOS:["Protect these photos."],SAVE_YOUR_PHOTOS:["Save your photos"],CONTINUE_WITHOUT_SECURING_PHOTOS:["Continue without securing ","${count}"," photos."],CONTINUE_WITHOUT_SECURING_PHOTOS_B:["Continue without securing ","${count}"," photos"],MARK_PHOTOS_FOR_DELETION:["No, mark ","${count}"," for deletion."],MARK_PHOTOS_FOR_DELETION_B:["No, mark ","${count}"," for deletion"],DONT_REMIND_AGAIN:["Don’t remind me again."],DONT_REMIND_AGAIN_B:["Don’t remind me again"],CHOOSE_ABOVE_TO_CONTINUE:["Choose an option above to continue to your photos."],DID_YOU_KNOW_FLICKR_PRO:["Did you know Flickr Pro is more than just unlimited storage?"],UPGRADE_YOU_ALSO_GET:["You also get ad-free browsing, priority support from our Support Heroes, and you will save money with exclusive discounts on photo books, software, and gear from our industry partners."],DONT_NEED_TO_BE_PROFESSIONAL:["You don’t need to be a professional to be a Flickr Pro."],FLICKR_PROS_LOVE_PHOTOGRAPHY:["Flickr Pros love photography, plain and simple. By joining Flickr Pro, you’ll join a community of people who enjoy talking, sharing, and discovering photos as much as you do."],JOIN_FLICKR_PRO:["Join Flickr Pro"],OVER_UPLOAD_LIMIT_HEAD_FINAL:["Your photos are at risk of deletion."],OVER_UPLOAD_LIMIT_COPY_FINAL:["Your Free Flickr account is limited to ","${limitCount}"," photos or videos. The oldest items over the limit are at risk of deletion. Learn more. Upgrade to Flickr Pro for unlimited storage."],LIKE_TO_KEEP_YOUR_PHOTOS:['You know we’d like to keep all your photos here forever, for free. (Including this one, the first photo you uploaded to Flickr.) You probably also know we have <a href="',"${rulesUrl}",'">new rules for free accounts</a> and may need to delete photos exceeding our new limits. You have ',"${photoCountString}"," we can no longer keep for free. It’s time to let us know what you’d like to do."],DONT_SAVE_MY_PHOTOS:["Don’t save my photos"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-fluid-modal-nav-bar",function(a,e){var n=a.Template.Handlebars.revive({1:function(a,e,n,l,t){var r;return null!=(r=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:a.program(2,t,0),inverse:a.noop,data:t}))?r:""},2:function(a,e,n,l,t){var r,u,i=null!=e?e:{},s=n.helperMissing,o=a.escapeExpression;return'\t\t\t<li data-id="'+o("function"==typeof(u=null!=(u=n.id||(null!=e?e.id:e))?u:s)?u.call(i,{name:"id",hash:{},data:t}):u)+'" data-value="'+o("function"==typeof(u=null!=(u=n.value||(null!=e?e.value:e))?u:s)?u.call(i,{name:"value",hash:{},data:t}):u)+'" class="link '+(null!=(r=n.if.call(i,null!=e?e.selected:e,{name:"if",hash:{},fn:a.program(3,t,0),inverse:a.noop,data:t}))?r:"")+" "+(null!=(r=n.if.call(i,null!=e?e.hiddenByDefault:e,{name:"if",hash:{},fn:a.program(5,t,0),inverse:a.noop,data:t}))?r:"")+'" tabindex="0"><a data-value="'+o("function"==typeof(u=null!=(u=n.value||(null!=e?e.value:e))?u:s)?u.call(i,{name:"value",hash:{},data:t}):u)+'">'+o("function"==typeof(u=null!=(u=n.name||(null!=e?e.name:e))?u:s)?u.call(i,{name:"name",hash:{},data:t}):u)+"</a></li>\n"},3:function(a,e,n,l,t){return"selected"},5:function(a,e,n,l,t){return"hidden"},7:function(a,e,n,l,t){return'\t\t\t<form action="/search" method="get" role="search">\n\t\t\t\t<input type="text" name="text" value="" class="search-field" autocomplete="off" aria-label="Search" role="textbox">\n\t\t\t\t<input type="submit" class="search-icon" tabindex="-1" aria-label="Search" role="button">\n\t\t\t</form>\n'},compiler:[7,">= 4.0.0"],main:function(a,e,n,l,t){var r,u=null!=e?e:{};return'<div class="fluid-modal-nav-bar">\n\t<div class="fluid-modal-nav-content">\n\t\t<ul class="links">\n'+(null!=(r=n.each.call(u,null!=e?e.links:e,{name:"each",hash:{},fn:a.program(1,t,0),inverse:a.noop,data:t}))?r:"")+"\t\t</ul>\n"+(null!=(r=n.if.call(u,null!=e?e.enableSearch:e,{name:"if",hash:{},fn:a.program(7,t,0),inverse:a.noop,data:t}))?r:"")+"\t</div>\n</div>\n"},useData:!0}),l={};a.Array.each([],function(e){var n=a.Template.get("hermes/"+e);n&&(l[e]=n)}),a.Template.register("hermes/fluid-modal-nav-bar",function(e,t){return t=t||{},t.partials=t.partials?a.merge(l,t.partials):l,n(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-modal-nav-bar-view",function(e){"use strict";var t;t={css:{nav:".fluid-modal-nav-bar",navContent:".fluid-modal-nav-content",links:".links",link:".link"},options:{}},e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){var t,i,n=this.get("breakpointConfig")||[],a=this.appContext.viewportData.getWidth();for(i=n.sort(function(e,t){return e.maxWidth-t.maxWidth}),t=0;t<i.length;t++)if(a<i[t].maxWidth){this.mobileConfig=i[t],this.set("links",this.mobileConfig.links),this.set("enableSearch",this.mobileConfig.enableSearch);break}return this},loadState:function(){return this},buildContainer:function(){var e;return e={links:this.get("links"),enableSearch:this.get("enableSearch")},this.setContainerWithTemplate("fluid-modal-nav-bar",e),this},activate:function(){var e=this.get("container"),t=this;return this.registerEventHandler(e.on("click",this.handleClick.bind(this))),this.registerEventHandler(e.on("key",this.handleClick.bind(this),"down:13")),this.get("links").forEach(function(i){i.selected&&t.set("currentSelection",e.one('.link[data-id="'+i.id+'"]'))}),this},deselectAll:function(){this.get("container").one(t.css.nav).one(t.css.navContent).one(t.css.links).all(t.css.link).removeClass("selected")},handleClick:function(t){var i,n,a=t.target,s=a.get("parentNode"),l=this.get("container"),r={},o=this.appContext.getViewer().nsid;"a"===a.getDOMNode().tagName.toLowerCase()?(t.halt(),this.deselectAll(),s.addClass("selected"),this.set("currentSelection",s),(i=l.one(".search-field"))&&(i.getDOMNode().value=""),this.fire("subviewViewEvent","navigation",t)):a.hasClass("link")?(t.halt(),this.deselectAll(),a.addClass("selected"),this.set("currentSelection",a),(i=l.one(".search-field"))&&(i.getDOMNode().value=""),this.fire("subviewViewEvent","navigation",t)):(i=l.one(".search-field"),this.get("enableSearch")&&i&&(n=l.one(".search-field").getDOMNode(),"submit"===a.getDOMNode().type&&(t.halt(),r.apiParams={},r.apiParams[e.AttributeHelpers.coerceString(n.name)]=n.value,r.id=e.SearchHelper.generateQueryString(r.apiParams)||e.guid(),r.viewerNsid=o,this.fire("subviewViewEvent","search",r),this.deselectAll(),this.set("currentSelection",{type:"search",modelParams:r}))))},onParentViewEvent:function(t,i){var n=this.get("currentSelection");"backToList"===i[0]&&(n instanceof e.Node?this.get("currentSelection").getDOMNode().click():"search"===n.type&&this.fire("subviewViewEvent","search",n.modelParams))}},{ATTRS:{links:{value:[],validator:function(t){return e.Lang.isArray(t)}},currentSelection:{value:null},enableSearch:{value:!0,validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}},breakpointConfig:{value:null}}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-fluid-modal-nav-bar","attribute-helpers","search-helper"],langBundles:["common","wallart"],optional:["person-models","photo-models"]});YUI.add("banner-view",function(i,e){var n=require("hermes-core/flog")(e);i.FlickrView.create(this.name,i.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(i){this.params=i,this.subview=this.params.subview},loadState:function(){return i.Promise.resolve()},buildContainer:function(){},activate:function(){var i=this,e=this.get("container");if(this.subviewParent=e,this.subview)return this.subview.on("dismiss",function(e){i.dismiss()}),this.setupSubview()},setupSubview:function(){var i=this;return this.subview.initialize().then(function(){var e=i.subview.get("container");{if("canShowBanner"in i.subview)return i.subview.canShowBanner()?(i.subviewParent.empty(),i.subviewParent.appendChild(e),i.subview.activate()):void i.dismiss();n.warn("Banners should implement method canShowBanner")}}).then(function(){i.fire("subviewActivated")})},dismiss:function(){this.get("container").remove(),this.fire("dismissed"),this.destroy()}})},"@VERSION@",{requires:["flickr-view"],langBundles:["common"]});YUI.add("hermes-template-basic-banner",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,t,s){return'\t\t\t<a role="button" class="button dismiss">\n\t\t\t\t<svg class="icon icon-close"><use xlink:href="#icon-close"></use></svg>\n\t\t\t</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,s){var r,i,l=null!=a?a:{},d=n.helperMissing,c=e.escapeExpression;return'<div class="basic-banner '+c("function"==typeof(i=null!=(i=n.additionalClasses||(null!=a?a.additionalClasses:a))?i:d)?i.call(l,{name:"additionalClasses",hash:{},data:s}):i)+'">\n\t<div class="banner-content fluid-centered">\n\t\t<div class="message-container">\n\t\t\t'+c((n.renderTrustedMarkup||a&&a.renderTrustedMarkup||d).call(l,null!=a?a.message:a,{name:"renderTrustedMarkup",hash:{},data:s}))+'\n\t\t</div>\n\t\t<div class="button-container">\n'+(null!=(r=n.if.call(l,null!=a?a.hideDismiss:a,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?r:"")+"\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),t={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(t[a]=n)}),e.Template.register("hermes/basic-banner",function(a,s){return s=s||{},s.partials=s.partials?e.merge(t,s.partials):t,n(a,s)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("login-migration-banner-view",function(e,i){require("hermes-core/flog")(i);e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e},loadState:function(){var i=this.appContext.getViewer(),t=[];return i.signedIn?(this.set("isCognitoUser",i.isCognitoUser),t.push(this.appContext.getModel("person-models",i.nsid).then(function(e){this.set("hasInvalidEmail",e.getValue("hasInvalidEmail")),this.set("isPro",e.getValue("isPro"))}.bind(this))),t.push(this.appContext.getModel("person-profile-models",i.nsid).then(function(e){this.set("profileModel",e)}.bind(this))),e.Promise.all(t)):(this.set("isCognitoUser",0),e.Promise.resolve())},buildContainer:function(){var i="<p>"+this.intlMessage({intlName:"featured-banner.CHANGES_ARE_COMING"}),t=e.config.flickr.cognito.root+e.config.flickr.cognito["migration-url"];return this.get("hasInvalidEmail")?i+=' <a href="https://flickr.kustomer.help/en_us/add-and-verify-a-new-email-address-ry6qhVBV" target="_blank">'+this.intlMessage({intlName:"featured-banner.UPDATE_YOUR_EMAIL"})+"</a>":i+=' <a href="'+t+'">'+this.intlMessage({intlName:"featured-banner.UPDATE_YOUR_LOGIN"})+"</a>",i+="</p>",this.setContainerWithTemplate("basic-banner",{message:i,additionalClasses:"head-banner-style",hideDismiss:!0}),this},activate:function(){this.get("container");this.fire("activated")},canShowBanner:function(){var e=!1;return!this.appContext.getViewer().signedIn||this.get("isCognitoUser")||this.isABlacklistedView()||(e=!0),e},isABlacklistedView:function(){var e=this.appContext.flapp.get("activeView").name;return!!(e&&["products-pro-2018-view"].indexOf(e)>-1)}})},"@VERSION@",{requires:["flickr-view","hermes-template-basic-banner","user-limits-helper","person-models","person-profile-models"],langBundles:["featured-banner"]});YUI.add("hermes-lang-featured-banner",function(e,a){e.Intl.add("hermes/featured-banner","en-US",{CHANGES_ARE_COMING:["Changes are coming to the way you log into Flickr!"],UPDATE_YOUR_EMAIL:["Update your email address to get started"],UPDATE_YOUR_LOGIN:["Update your login now"],WE_HAD_TROUBLE_PAYMENT:["We had trouble processing your credit card."],PLEASE_UPDATE_PAYMENT_PAST_DUE:["Please update your payment method to avoid losing Pro."]})},"@VERSION@",{requires:["intl"]});